<!DOCTYPE html>
<html>
<head>
    <title>[watersort] vampy's lab</title>
    <link rel="stylesheet" type="text/css" href="style.css" />
    <link rel="stylesheet" type="text/css" href="styles/watersort.css" />
</head>
<body onload="main()">
    <div class="page-container">
        <div class="topbar">
            <div class="title">
                <div id="icon"></div>
                <span>vampy's lab: water sort game</span>
            </div>
            <div class="nav">
                <button id="info" title="info" onclick="fancyInfoPopUp()">i</button>
                <a id="minimize" title="to the directory" href="index.html">_</a>
                <a id="close" title="to my website" href="https://vampycritters.neocities.org/projects">x</a>
            </div>
        </div>

        <div id="popup" style="display:none;">
            <div class="topbar">
                <div class="title">
                    <span id="popup-title">this is a popup</span>
                </div>
                <div class="nav">
                    <button id="popup-pageback" title="previous page" onclick="infoTurnPage(-1)"><</button>
                    <button id="popup-pagenext" title="next page" onclick="infoTurnPage(1)">></button>
                    <button id="close-popup" title="close popup" onclick="closePopUp()">x</button>
                </div>
            </div>
            <div class="padded">
                <p id="popup-text">message goes here</p>
                <!--for requesting input-->
                <div id="popup-input-container">
                    <input id="popup-input" style="display:none;" />
                    <button id="popup-send" onclick="closePopUp();loadLevel(popup.input.value)" style="display:none;">load</button>
                </div>
                <!--for requesting an option from a set list of options!-->
                <div id="popup-select-container">
                    <select id="popup-select">
                    </select>
                    <button id="popup-select-send" onclick="closePopUp();">apply</button>
                </div>
                <div id="popup-misc-container">
                    <button id="popup-victory-button" style="display:none;" onclick="closePopUp();generateLevel();$('#popup-victory-button').hide();">next puzzle</button>
                </div>
            </div>
        </div>

        <div id="controls">
            <!--Main game controls that need to be seen all the time-->
            <button onclick="generateLevel()">next puzzle</button>
            <button onclick="loadLevel(levelStartSave)">reset puzzle</button>
            <button onclick="notImplementedPopUp('Undo')">undo</button>
            <button onclick="addEmptyTube()">add tube</button>
            <button onclick="$('#controls-extra').toggle()">...</button>
            
            <div id="controls-extra" style="display:none;">
                <!--Extraneous controls like save/load/customize-->
                <button onclick="openPopUp('your save key is<br>'+saveLevel(),'save puzzle')">save puzzle</button>
                <button onclick="inputPopUp('input the save key you want to load!<br>this will wipe your current save.<br>loaded puzzles may be unsolveable if the key has been tampered with.','load puzzle')">load puzzle</button>
                <button onclick="selectPopUp('customize colors', Object.keys(waterPresets), setWaterColors)">customize colors</button>
            </div>
            
        </div>

        <div id="watersort">
            <div class="watertube">
                <div class="water top"></div>
                <div class="water topmid"></div>
                <div class="water botmid"></div>
                <div class="water bottom"></div>
            </div>
        </div>

    </div>
    <script src="js/popup.js"></script>
    <script src="js/watersort.js"></script>
    <script src="js/popup_victory.js"></script>
    <script src="js/popup_notimplemented.js"></script>
    <script>
        info.pages.push(['watersort', 'its one of those water color sort clone games!<br>im lowkey obsessed with these tbh<br>anyway its pretty straightforward! same colors can stack on top of each other, sort them all to full tubes to win!']);
        info.pages.push(['watersort (cont)', 'all the puzzles are pseudorandomly generated.<br>"new puzzle" randomizes a new one,<br>"reset puzzle" undoes all your moves but keeps the same puzzle,<br>save and load work by giving you a "save key", no cookies involved!<br>also there is no limit on how many tubes you can add. go wild!']);
        info.pages.push(['watersort (colors)', 'the color customization lets you choose between presets for now btw']);
    </script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>
</body>
</html>
